/*
	Copyright (c) 2004-2010, The Dojo Foundation All Rights Reserved.
	Available via Academic Free License >= 2.1 OR the modified BSD license.
	see: http://dojotoolkit.org/license for details
*/


if(!dojo._hasResource["modulo.admin.filial"]){dojo._hasResource["modulo.admin.filial"]=true;dojo.require("modulo.padrao.geral");dojo.require("modulo.padrao.grid");dojo.provide("modulo.admin.filial");dojo.declare("modulo.admin.filial",[modulo.padrao.geral,modulo.padrao.grid],{constructor:function(){},initGrid:function(){objGeral.loading(true);adminFilial.gridHeader="#,"+objGeral.translate("Filial")+","+objGeral.translate("Cidade")+","+objGeral.translate("Estado")+","+objGeral.translate("Status");document.getElementById("gridAdminFilial").style.height=objGrid.gridHeight+"px";adminFilial.grid=new dhtmlXGridObject("gridAdminFilial");adminFilial.grid.setHeader(adminFilial.gridHeader);adminFilial.grid.attachHeader("#rspan,#text_filter,#select_filter,#select_filter,#select_filter");adminFilial.grid.setInitWidths(objGrid.idWidth+",*,320,200,100");adminFilial.grid.setColAlign("center,left,left,left,left");adminFilial.grid.setColTypes("ro,ro,ro,ro,ro");adminFilial.grid.setColSorting("str,str,str,str,str");adminFilial.grid.setSkin(objGrid.theme);adminFilial.grid.enablePaging(true,objGrid.pagResults,objGrid.pagIndexes,"divpagAdminFilialGrid",true,"divpagAdminFilial");adminFilial.grid.attachFooter(objGrid.tituloTotal+",#cspan,#cspan,#cspan,{#stat_count}");adminFilial.grid.attachEvent("onRowDblClicked",adminFilial.edit);adminFilial.grid.init();adminFilial.grid.load(baseUrl+"/admin/filial/list",dojo.hitch(objGeral,"loading",false),"json");},novo:function(){objGeral.createDialog("/admin/filial/form/",objGeral.translate("Filial"));},edit:function(){if(!adminFilial.grid.getSelectedId()){objGeral.msgAlerta(objGeral.translate("Selecione o item para edição."));return false;}objGeral.createDialog("/admin/filial/edit/id/"+adminFilial.grid.getSelectedId(),objGeral.translate("Filial"));return true;},atualizarGrid:function(){objGeral.atualizarGrids([adminFilial.grid]);},changeEstado:function(_1){if(objGeral.empty(_1)){dijit.byId("estado_id").attr("value","");dijit.byId("estado_id").setDisabled(true);}else{objGeral.changeFilteringSelect("estado_id",baseUrl+"/admin/filial/buscaestado/pais/",_1.value);}},changeCidade:function(_2){if(objGeral.empty(_2)){dijit.byId("cidade_id").attr("value","");dijit.byId("cidade_id").setDisabled(true);}else{objGeral.changeFilteringSelect("cidade_id",baseUrl+"/admin/filial/buscacidade/estado/",_2.value);}}});var adminFilial=new modulo.admin.filial();}